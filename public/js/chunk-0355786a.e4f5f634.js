(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0355786a"],{"3a48":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tray_enter"},[a("div",{staticStyle:{"min-height":"45rem","margin-bottom":"20px"}},[a("div",{staticClass:"enter_wrap"},[e.tableData.length?a("el-button",{staticClass:"preBtn",attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:e.clear1}},[e._v("返回")]):e._e(),e.tableData.length?e._e():a("el-input",{staticStyle:{width:"auto"},attrs:{"suffix-icon":"el-icon-full-screen",placeholder:"请扫描托盘码"},on:{input:e.barcode_Data},model:{value:e.barcode_val,callback:function(t){e.barcode_val="string"===typeof t?t.trim():t},expression:"barcode_val"}},[a("el-button",{attrs:{slot:"append",type:"primary"},on:{click:e.clear1},slot:"append"},[e._v("清除托盘码")])],1),e.tableData.length?a("el-input",{staticStyle:{width:"auto"},attrs:{"suffix-icon":"el-icon-full-screen",autofocus:"",placeholder:"请扫描零件码"},on:{input:function(t){return e.tray_generate()}},model:{value:e.barcode_vals_,callback:function(t){e.barcode_vals_="string"===typeof t?t.trim():t},expression:"barcode_vals_"}},[a("el-button",{attrs:{slot:"append",type:"primary"},on:{click:e.clear2},slot:"append"},[e._v("清除零件码")])],1):e._e()],1),e.tableData.length?a("div",{staticClass:"main_del"},[a("div",{staticClass:"main_title"},[a("div",{staticClass:"title_left"},[e._v("托盘名称："+e._s(e.tray_name))]),a("div",{staticClass:"title_right"},[e._v("托盘条码："+e._s(e.barcode_val__))])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"70vh"}},[a("el-table-column",{attrs:{prop:"product_name",label:"零件名称"}}),a("el-table-column",{attrs:{prop:"category",label:"编码"}}),a("el-table-column",{attrs:{label:"图样名称",prop:"items"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{},[e._v(e._s(t.row.items))])]}}],null,!1,3086235498)}),a("el-table-column",{attrs:{prop:"specs_",label:"规格"}}),a("el-table-column",{attrs:{prop:"material",label:"材料"}}),a("el-table-column",{attrs:{prop:"img",label:"图片",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"right",title:"",trigger:"click"}},[a("img",{staticStyle:{height:"500px"},attrs:{src:e.row.img}}),a("img",{staticStyle:{height:"50px",width:"50px","min-height":"50px","min-width":"50px"},attrs:{slot:"reference",src:e.row.img,alt:""},slot:"reference"})])]}}],null,!1,453472430)}),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{},[e._v(e._s(t.row.number))])]}}],null,!1,4247990991)}),a("el-table-column",{attrs:{prop:"use_number",label:"已装数量",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{},[e._v(e._s(t.row.use_number))])]}}],null,!1,516388275)}),a("el-table-column",{attrs:{prop:"is_use",label:"完成状态",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.active_img?a("i",{staticClass:"el-icon-success",staticStyle:{color:"#00A000","font-size":"1.5rem"}}):e._e()]}}],null,!1,2907732531)})],1)],1):e._e()]),a("cropperPhoto",{ref:"openCamera",attrs:{centerDialogVisible:e.cropperPhoto},on:{change:e.changeClose}})],1)},o=[],n=(a("7f7f"),a("cebc")),i=a("2f62"),l=a("4328"),c=a.n(l),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.centerDialogVisible.dialog,"show-close":!1,"before-close":e.close,width:"600px"},on:{"update:visible":function(t){return e.$set(e.centerDialogVisible,"dialog",t)}}},[a("div",{staticClass:"Record"},[a("article",[a("section",{directives:[{name:"show",rawName:"v-show",value:!e.imgSrc,expression:"!imgSrc"}],staticClass:"experiment"},[a("div",{attrs:{id:"videos-container"}}),e.startBtn.start?a("el-progress",{attrs:{percentage:e.percentage,"show-text":!1,color:e.customColorMethod}}):e._e()],1),a("section",{directives:[{name:"show",rawName:"v-show",value:e.imgSrc,expression:"imgSrc"}],staticClass:"experiment"},[a("canvas",{attrs:{id:"canvasCamera",width:"500",height:"375"}})]),a("section",{staticClass:"experimentbtn"},[e.imgSrc?e._e():a("el-button",{attrs:{icon:"el-icon-camera-solid"},on:{click:e.setRecording}},[e._v("拍照")]),e.imgSrc?a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.clearsetRecording}},[e._v("重拍")]):e._e(),e.imgSrc?a("el-button",{on:{click:e.saveRecording}},[e._v("保存")]):e._e()],1)]),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.ruleForm.img2.loading,expression:"ruleForm.img2.loading"}],staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.beforeAvatarUpload2}},[e.ruleForm.img2.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.ruleForm.img2.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])],1)},u=[],d=(a("34ef"),a("4917"),a("28a5"),{data:function(){return{mediaStream:"",recorderFile:"",stopRecordCallback:"",mediaRecorder:{blobs:[]},openBtn:{disabled:!1},startBtn:{disabled:!0,start:!1},saveBtn:{disabled:!0},stopBtn:!1,startTimeOut:"",startInterval:"",imgSrc:"",imageFiles:{},fileList:{},percentage:0,myCropper:null,afterImg:"",ruleForm:{img2:{imageUrl:"",loading:!1}}}},computed:Object(n["a"])({},Object(i["c"])({url:function(e){return e.url}}),Object(i["b"])({token:"getToken"})),props:{centerDialogVisible:""},mounted:function(){},methods:{openCameraBtn:function(){var e=this;this.openBtn.disabled=!0,this.startBtn.disabled=!1,setTimeout(function(){e.openCamera()},100)},setRecording:function(){this.openBtn.disabled&&this.setImage()},clearsetRecording:function(){this.imgSrc=""},saveRecording:function(){this.imgSrc&&this.saveImage()},openCamera:function(){for(var e=document.getElementById("videos-container"),t=e.childNodes.length,a=0;a<t;a++)e.removeChild(e.childNodes[a]);var r=document.createElement("video"),o=500,n=375;r.controls=!1,r.muted=!0,r.width=o,r.height=n;var i=this;i.getUserMedia(!0,!1,function(t,a){if(t)throw t;console.log(),i.mediaRecorder=new MediaRecorder(a),i.mediaStream=a;var o=[];r.srcObject=a,r.play(),e.appendChild(r),i.mediaRecorder.ondataavailable=function(e){i.mediaRecorder.blobs.push(e.data),o.push(e.data)},i.mediaRecorder.blobs=[],i.mediaRecorder.onstop=function(e){i.recorderFile=new Blob(o,{type:i.mediaRecorder.mimeType}),o=[],null!=i.stopRecordCallback&&i.stopRecordCallback()}})},setImage:function(){var e=document.getElementById("canvasCamera"),t=e.getContext("2d"),a=document.getElementsByTagName("video")[0];t.drawImage(a,0,0,500,375);var r=e.toDataURL("image/png");this.imgSrc=r;var o=1e3*new Date+".png";this.imageFiles=this.dataURLtoFile(r,o)},saveImage:function(){this.imageFiles&&this.update(this.imageFiles)},getUserMedia:function(e,t,a){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||window.getUserMedia;var r={video:e,audio:t};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(r).then(function(e){a(!1,e)})["catch"](function(e){a(e)}):navigator.getUserMedia?navigator.getUserMedia(r,function(e){a(!1,e)},function(e){a(e)}):a(new Error("Not support userMedia"))},closeStream:function(e){if("function"===typeof e.stop)e.stop();else for(var t=[e.getAudioTracks(),e.getVideoTracks()],a=0;a<t.length;a++){var r=t[a];if(r&&r.length>0)for(var o=0;o<r.length;o++){var n=r[o];"function"===typeof n.stop&&n.stop()}}},dataURLtoFile:function(e,t){var a=e.split(","),r=a[0].match(/:(.*?);/)[1],o=atob(a[1]),n=o.length,i=new Uint8Array(n);while(n--)i[n]=o.charCodeAt(n);return new File([i],t,{type:r})},close:function(){this.closeStream(this.mediaStream),this.$emit("change",!1)},beforeAvatarUpload2:function(e){e&&(console.log("beforeAvatarUpload"),this.ruleForm.img2.loading=!0,this.update(e))},update:function(e){var t=this,a=new FormData;a.append("file",e),t.axios.post(t.url+"/api/v1/upload",a,{headers:{"content-type":"application/x-www-form-urlencoded",token:t.token}}).then(function(e){e&&e.data&&e.data.data&&200==e.data.code&&(t.fileList={},t.fileList={tray_id:t.centerDialogVisible.id,record_id:t.centerDialogVisible.record_id,url:e.data.data.url},t.fileList&&(t.ruleForm.img2.imageUrl=e.data.data.url,t.ruleForm.img2.loading=!1,console.log("拍照完成：：",t.fileList),t.updataImg()))}).catch(function(e){console.log(e)})},updataImg:function(){var e=this;e.axios({method:"post",url:e.url+"/api/v1/tray/add-image",params:e.fileList,headers:{"content-type":"application/json",token:e.token}}).then(function(t){t&&200==t.data.code&&(e.$message({message:"操作成功",type:"success",offset:300}),e.close())}).catch(function(e){console.log(e)})}}}),p=d,f=(a("5c91"),a("2877")),m=Object(f["a"])(p,s,u,!1,null,"4ab799d6",null),g=m.exports,b={name:"tray_enter",components:{cropperPhoto:g},data:function(){return{barcode_val:"",tray_name:"",barcode_val__:"",barcode_vals_:"",pagesize:15,currpage:1,tableData:[],generate_:"",datas:"",true_Arr:[],id_:"",tray_status:!1,is_block:!1,thisObject:"",cropperPhoto:{dialog:!1,record_id:"",id:""}}},computed:Object(n["a"])({},Object(i["b"])({url:"geturl",token:"getToken"})),created:function(){this.$route.query&&this.$route.query.parts_number&&(this.barcode_val=this.$route.query.parts_number,this.barcode_Data()),this.currpage=1,this.barcode_val__&&this.tray_name&&this.id_?console.log(this.barcode_val__,this.id_):this.tableData=[]},watch:{true_Arr:function(){console.log(this.true_Arr.length,this.tableData.length),this.true_Arr.length==this.tableData.length&&this.cropperPhone()}},methods:{changeClose:function(e){this.cropperPhoto.dialog=e,this.tableData=[]},barcode_Data:function(){var e=this;if(8==e.barcode_val.length){var t=c.a.stringify({parts_number:e.barcode_val});e.axios.post(e.url+"/api/v1/tray/detail",t,{headers:{"content-type":"application/x-www-form-urlencoded",token:e.token}}).then(function(t){if(t&&t.data&&200==t.data.code){var a=t.data.data;e.tray_name=a.name,e.barcode_val__=a.parts_number,e.barcode_val="",e.id_=a.id,e.cropperPhoto.id=a.id,e.cropperPhoto.record_id=a.record_id;var r=a.detail;e.true_Arr=[];for(var o=0;o<r.length;o++){r[o].index_=o,r[o].use_number==r[o].number&&(r[o].active_img=!0,e.true_Arr.push(r[o].active_img));r[o].type;var n=r[o].image;r[o].img=null==n||void 0==n||""==n?"http://zrui.e7vr.com/image/arm/default.gif":r[o].image;var i=r[o].item;r[o].items=null==i||void 0==i||""==i?"-- --":r[o].item;var l=r[o].specs;r[o].specs_=null==l||void 0==l||""==l?"-- --":r[o].specs}e.tableData=r}}).catch(function(t){e.$message.error("该托盘已被使用或不存在"),console.log(t)})}},tray_generate:function(){var e=this;if(0!=e.tableData.length&&8==e.barcode_vals_.length){var t=c.a.stringify({category:e.barcode_vals_});e.axios.post(e.url+"/api/v1/tray/generate",t,{headers:{"content-type":"application/x-www-form-urlencoded",token:e.token}}).then(function(t){var a=t.data.data;e.generate_=t.data.data;for(var r=0;r<e.tableData.length;r++)if(e.tableData[r].product_id==a.product_id){if(e.tableData[r].use_number!=e.tableData[r].number)return 1==a.product_type?e.tableData[r].use_number=e.tableData[r].number:e.tableData[r].use_number+=1,e.thisObject=r,e.tableData[r].use_number==e.tableData[r].number&&(e.tableData[r].active_img=!0,e.true_Arr.push(e.tableData[r].active_img)),e.onEnter(e.tableData[r].index_,a,r),!1;if(e.tableData[r].use_number==e.tableData[r].number)return e.$message({message:"配件"+e.tableData[r].product_name+"已经装满",offset:200}),!1}}).catch(function(t){e.$message({message:e.errmessage(t.response.data),type:"warning"})})}},onEnter:function(e,t,a){var r,o=this,n=[],i=[],l=o.tableData[e],s=t.id,u=t.product_name,d=t.product_type;1==d?(r=0,i.number=l.number):(r=s,i.number=1),i.product_id=t.product_id,i.product_name=u,i.category=t.category,i.parts_id=r,i.type=d,n.push(i);var p=o.id_,f=c.a.stringify({tray_id:p,parts:n});console.log(f),o.axios.post(o.url+"/api/v1/tray/save",f,{headers:{"content-type":"application/x-www-form-urlencoded",token:o.token}}).then(function(e){o.barcode_vals_=""}).catch(function(e){o.$message({message:o.errmessage(e.response.data),type:"warning"}),o.tableData[o.thisObject].use_number-=1,o.true_Arr=o.true_Arr.slice(0,-1),o.tableData[o.thisObject].active_img=!1})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currpage=e},enter:function(e){for(var t=this,a=[],r=0;r<t.tableData.length;r++)1==t.tableData[r].active_img&&void 0!=t.tableData[r].active_img&&a.push(t.tableData[r].active_img)},cropperPhone:function(){var e=this;e.tableData.length==e.true_Arr.length&&(console.log("tableData",e.tableData),console.log("true_Arr",e.true_Arr),e.$alert("*装盘完成需进行对托盘拍照","提示",{confirmButtonText:"拍照",showClose:!1,callback:function(t){e.cropperPhoto.dialog=!0,setTimeout(function(){e.$refs.openCamera.openCameraBtn()},100)}}))},openFullScreen2:function(){var e=this.$loading({lock:!0,text:"入库中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){e.close()},2e3)},clear1:function(){this.barcode_val="",this.tableData=[],this.barcode_vals_=""},clear2:function(){this.barcode_vals_=""}}},h=b,v=(a("95b9"),Object(f["a"])(h,r,o,!1,null,"73140bcc",null));t["default"]=v.exports},4127:function(e,t,a){"use strict";var r=a("d233"),o=a("b313"),n={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,a,o,n,i,c,s,u,d,p,f,m){var g=t;if("function"===typeof s)g=s(a,g);else if(g instanceof Date)g=p(g);else if(null===g){if(n)return c&&!m?c(a,l.encoder):a;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||r.isBuffer(g)){if(c){var b=m?a:c(a,l.encoder);return[f(b)+"="+f(c(g,l.encoder))]}return[f(a)+"="+f(String(g))]}var h,v=[];if("undefined"===typeof g)return v;if(Array.isArray(s))h=s;else{var y=Object.keys(g);h=u?y.sort(u):y}for(var _=0;_<h.length;++_){var w=h[_];i&&null===g[w]||(v=Array.isArray(g)?v.concat(e(g[w],o(a,w),o,n,i,c,s,u,d,p,f,m)):v.concat(e(g[w],a+(d?"."+w:"["+w+"]"),o,n,i,c,s,u,d,p,f,m)))}return v};e.exports=function(e,t){var a=e,i=t?r.assign({},t):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!==typeof i.encoder)throw new TypeError("Encoder has to be a function.");var s="undefined"===typeof i.delimiter?l.delimiter:i.delimiter,u="boolean"===typeof i.strictNullHandling?i.strictNullHandling:l.strictNullHandling,d="boolean"===typeof i.skipNulls?i.skipNulls:l.skipNulls,p="boolean"===typeof i.encode?i.encode:l.encode,f="function"===typeof i.encoder?i.encoder:l.encoder,m="function"===typeof i.sort?i.sort:null,g="undefined"!==typeof i.allowDots&&i.allowDots,b="function"===typeof i.serializeDate?i.serializeDate:l.serializeDate,h="boolean"===typeof i.encodeValuesOnly?i.encodeValuesOnly:l.encodeValuesOnly;if("undefined"===typeof i.format)i.format=o["default"];else if(!Object.prototype.hasOwnProperty.call(o.formatters,i.format))throw new TypeError("Unknown format option provided.");var v,y,_=o.formatters[i.format];"function"===typeof i.filter?(y=i.filter,a=y("",a)):Array.isArray(i.filter)&&(y=i.filter,v=y);var w,D=[];if("object"!==typeof a||null===a)return"";w=i.arrayFormat in n?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var j=n[w];v||(v=Object.keys(a)),m&&v.sort(m);for(var x=0;x<v.length;++x){var O=v[x];d&&null===a[O]||(D=D.concat(c(a[O],O,j,u,d,p?f:null,y,m,g,b,_,h)))}var k=D.join(s),C=!0===i.addQueryPrefix?"?":"";return k.length>0?C+k:""}},4328:function(e,t,a){"use strict";var r=a("4127"),o=a("9e6a"),n=a("b313");e.exports={formats:n,parse:o,stringify:r}},"5c91":function(e,t,a){"use strict";var r=a("fe41"),o=a.n(r);o.a},"95b9":function(e,t,a){"use strict";var r=a("9808"),o=a.n(r);o.a},9808:function(e,t,a){},"9e6a":function(e,t,a){"use strict";var r=a("d233"),o=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,t){for(var a={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,l=r.split(t.delimiter,i),c=0;c<l.length;++c){var s,u,d=l[c],p=d.indexOf("]="),f=-1===p?d.indexOf("="):p+1;-1===f?(s=t.decoder(d,n.decoder),u=t.strictNullHandling?null:""):(s=t.decoder(d.slice(0,f),n.decoder),u=t.decoder(d.slice(f+1),n.decoder)),o.call(a,s)?a[s]=[].concat(a[s]).concat(u):a[s]=u}return a},l=function(e,t,a){for(var r=t,o=e.length-1;o>=0;--o){var n,i=e[o];if("[]"===i)n=[],n=n.concat(r);else{n=a.plainObjects?Object.create(null):{};var l="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(l,10);!isNaN(c)&&i!==l&&String(c)===l&&c>=0&&a.parseArrays&&c<=a.arrayLimit?(n=[],n[c]=r):n[l]=r}r=n}return r},c=function(e,t,a){if(e){var r=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,c=n.exec(r),s=c?r.slice(0,c.index):r,u=[];if(s){if(!a.plainObjects&&o.call(Object.prototype,s)&&!a.allowPrototypes)return;u.push(s)}var d=0;while(null!==(c=i.exec(r))&&d<a.depth){if(d+=1,!a.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!a.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+r.slice(c.index)+"]"),l(u,t,a)}};e.exports=function(e,t){var a=t?r.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!==typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"===typeof a.delimiter||r.isRegExp(a.delimiter)?a.delimiter:n.delimiter,a.depth="number"===typeof a.depth?a.depth:n.depth,a.arrayLimit="number"===typeof a.arrayLimit?a.arrayLimit:n.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"===typeof a.decoder?a.decoder:n.decoder,a.allowDots="boolean"===typeof a.allowDots?a.allowDots:n.allowDots,a.plainObjects="boolean"===typeof a.plainObjects?a.plainObjects:n.plainObjects,a.allowPrototypes="boolean"===typeof a.allowPrototypes?a.allowPrototypes:n.allowPrototypes,a.parameterLimit="number"===typeof a.parameterLimit?a.parameterLimit:n.parameterLimit,a.strictNullHandling="boolean"===typeof a.strictNullHandling?a.strictNullHandling:n.strictNullHandling,""===e||null===e||"undefined"===typeof e)return a.plainObjects?Object.create(null):{};for(var o="string"===typeof e?i(e,a):e,l=a.plainObjects?Object.create(null):{},s=Object.keys(o),u=0;u<s.length;++u){var d=s[u],p=c(d,o[d],a);l=r.merge(l,p,a)}return r.compact(l)}},b313:function(e,t,a){"use strict";var r=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,a){"use strict";var r=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e){var t;while(e.length){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)"undefined"!==typeof t[o]&&r.push(t[o]);a.obj[a.prop]=r}}return t},i=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(a[r]=e[r]);return a},l=function e(t,a,o){if(!a)return t;if("object"!==typeof a){if(Array.isArray(t))t.push(a);else{if("object"!==typeof t)return[t,a];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,a))&&(t[a]=!0)}return t}if("object"!==typeof t)return[t].concat(a);var n=t;return Array.isArray(t)&&!Array.isArray(a)&&(n=i(t,o)),Array.isArray(t)&&Array.isArray(a)?(a.forEach(function(a,n){r.call(t,n)?t[n]&&"object"===typeof t[n]?t[n]=e(t[n],a,o):t.push(a):t[n]=a}),t):Object.keys(a).reduce(function(t,n){var i=a[n];return r.call(t,n)?t[n]=e(t[n],i,o):t[n]=i,t},n)},c=function(e,t){return Object.keys(t).reduce(function(e,a){return e[a]=t[a],e},e)},s=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},u=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),a="",r=0;r<t.length;++r){var n=t.charCodeAt(r);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?a+=t.charAt(r):n<128?a+=o[n]:n<2048?a+=o[192|n>>6]+o[128|63&n]:n<55296||n>=57344?a+=o[224|n>>12]+o[128|n>>6&63]+o[128|63&n]:(r+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),a+=o[240|n>>18]+o[128|n>>12&63]+o[128|n>>6&63]+o[128|63&n])}return a},d=function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],l=Object.keys(i),c=0;c<l.length;++c){var s=l[c],u=i[s];"object"===typeof u&&null!==u&&-1===a.indexOf(u)&&(t.push({obj:i,prop:s}),a.push(u))}return n(t)},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},f=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:i,assign:c,compact:d,decode:s,encode:u,isBuffer:f,isRegExp:p,merge:l}},fe41:function(e,t,a){}}]);